"use strict";var getUserInfo=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=_wepy2.default.$instance.globalData.userInfo?_wepy2.default.$instance.globalData.userInfo.id:0,e.next=3,_api2.default.getUserInfo({query:{uid:r}});case 3:if(t=e.sent,console.log("-----get userinfo ",t),1==t.data.status)return e.abrupt("return",t.data.userinfo);e.next=7;break;case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getUserMoney=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,getUserInfo();case 2:return r=e.sent,e.abrupt("return",r?r.money:0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getUserLevel=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,getUserInfo();case 2:return r=e.sent,e.abrupt("return",r?r.level:0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_api=require("./api.js"),_api2=_interopRequireDefault(_api);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var s=e.apply(this,arguments);return new Promise(function(a,o){return function r(e,t){try{var n=s[e](t),u=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});a(u)}("next")})}}module.exports={getUserInfo:getUserInfo,getUserMoney:getUserMoney,getUserLevel:getUserLevel};